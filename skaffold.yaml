apiVersion: skaffold/v1
kind: Config
metadata:
  name: events
build:
  artifacts:
  - image: wdalmut/conf-informer
    context: conf-informer
    docker:
      dockerfile: Dockerfile
  - image: wdalmut/conf-consumer
    context: conf-consumer
    docker:
      dockerfile: Dockerfile
  - image: wdalmut/conf-order-validate
    context: order-validate
    docker:
      dockerfile: Dockerfile
  - image: wdalmut/conf-order-informer
    context: order-informer
    docker:
      dockerfile: Dockerfile
  - image: wdalmut/conf-order-consumer
    context: order-consumer
    docker:
      dockerfile: Dockerfile
  - image: wdalmut/conf-order-consumer-upd
    context: order-consumer-upd
    docker:
      dockerfile: Dockerfile
deploy:
  kubectl:
    manifests:
      - ./k8s/namespace.yaml
      - ./k8s/*
